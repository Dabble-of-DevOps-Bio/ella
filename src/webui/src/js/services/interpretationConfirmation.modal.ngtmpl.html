<sectionbox class="prompt" color="purple" modal="true" on-close="vm.modal.close">
  <maintitle>
    FINISH
  </maintitle>
  <controls>
    <section class="line-wrapper pinned-right">
        <button class="id-close normal" type="button" ng-click="vm.modal.dismiss()">CLOSE</button>
        <button class="id-finish purple" type="button" ng-click="vm.modal.close(vm.selectedStatus)">FINISH</button>
    </section>
  </controls>
  <contentwrapper>
    <h4 class="sb-notification"> Select next round: <span style="padding-left: 1rem;">{{vm.currentStatus}}</span> <span class="step-indicator">⟶</span> {{vm.selectedStatus}} </h4>
    <div class="workflow-status-selection">
      <button ng-if="vm.type == 'analysis'" class="id-mark-notready" ng-class="vm.getClass('Not ready')" type="button" ng-click="vm.selectStatus('Not ready')">NOT READY</button>
      <p ng-if="vm.type == 'analysis'" class="step-indicator">⟶</p>
      <button class="id-mark-interpretation" ng-class="vm.getClass('Interpretation')" type="button" ng-click="vm.selectStatus('Interpretation')">INTERPRETATION</button>
      <p class="step-indicator">⟶</p>
      <button class="id-mark-review" ng-class="vm.getClass('Review')" type="button" ng-click="vm.selectStatus('Review')">REVIEW</button>
      <p class="step-indicator">⟶</p>
      <button ng-if="vm.type == 'analysis'" class="id-mark-medicalreview" ng-class="vm.getClass('Medical review')" type="button" ng-click="vm.selectStatus('Medical review')">MEDICAL REVIEW</button>
      <p ng-if="vm.type == 'analysis'" class="step-indicator">⟶</p>
      <button ng-disabled="!vm.canFinalize" ng-class="vm.getClass('Finalized')" class="id-finalize" type="button" ng-click="vm.selectStatus('Finalized')">FINALIZED</button>

    </div>

    <h4 class="sb-notification" ng-if="!vm.canFinalize"> </h4>
    <h4 class="sb-notification" ng-if="!vm.canFinalize">Finalize not possible: Make sure all variants are classified and that you have made the required number of reviews.</h4>
  </contentwrapper>
</sectionbox>
