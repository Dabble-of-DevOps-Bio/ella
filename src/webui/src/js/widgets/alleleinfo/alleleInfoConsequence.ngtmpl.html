<contentbox title="Consequence" title-url="{{::vm.allele.getEnsemblUrl()}}" collapsed="vm.collapsed">
  <cbbody>
    <div ng-if="::vm.allele.annotation.hasWorseConsequence()">
      <h5>Worse consequences found in:</h5>
      <ul>
        <li ng-repeat="t in ::vm.allele.annotation.getWorseConsequenceTranscripts()">{{::t.Consequence.join(',')}} in {{::t.Transcript}}.{{::t.Transcript_version}}</li>
      </ul>
    </div>
    <div ng-repeat="t in ::vm.allele.annotation.filtered track by t.Transcript"
      class="clickable"
      popover-trigger="outsideClick"
      uib-popover-template="'ngtmpl/alleleInfoConsequencePopover.ngtmpl.html'"
      popover-title="Consequences"
      popover-placement="auto top">
        <transcript-wrapper transcript="t">
            <p ng-repeat="c in ::t.Consequence">{{::c | noUnderscores}}</p>
        </transcript-wrapper>
    </div>
    <acmg class="suggested disabled" ng-repeat="code in vm.allele.getACMGCodes('transcript.Consequence')" code="code"></acmg>
  </cbbody>
</contentbox>

