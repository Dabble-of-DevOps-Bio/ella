<div class="sidebar">

  <!--Spacers-->
  <div class="nav-bottom-allelebar-spacer"></div>

  <h4 class="section-title">Unclassified variants</h4>


  <section class="id-unclassified enabled">
    <div class="nav-table">
      <div class="nav-row top" ng-if="$ctrl.unclassified.length">
        <div class="cell" title="Sample type" ng-click="$ctrl.orderByChanged({section: 'unclassified', key: 'type'})">
          T
          <span ng-if="$ctrl.orderBy.unclassified.key === 'type'">
            <span ng-if="$ctrl.orderBy.unclassified.reverse">&#8593;</span>
            <span ng-if="!$ctrl.orderBy.unclassified.reverse">&#8595;</span>
          </span>
        </div>
        <div class="cell" title="Inheritance" ng-click="$ctrl.orderByChanged({section: 'unclassified', key: 'inheritance'})">
          INH
          <span ng-if="$ctrl.orderBy.unclassified.key === 'inheritance'">
            <span ng-if="$ctrl.orderBy.unclassified.reverse">&#8593;</span>
            <span ng-if="!$ctrl.orderBy.unclassified.reverse">&#8595;</span>
          </span>
        </div>
        <div class="cell" title="Gene" ng-click="$ctrl.orderByChanged({section: 'unclassified', key: 'gene'})">
          GENE
          <span ng-if="$ctrl.orderBy.unclassified.key === 'gene'">
            <span ng-if="$ctrl.orderBy.unclassified.reverse">&#8593;</span>
            <span ng-if="!$ctrl.orderBy.unclassified.reverse">&#8595;</span>
          </span>
        </div>
        <div class="cell" title="HGVSc" ng-click="$ctrl.orderByChanged({section: 'unclassified', key: 'hgvsc'})">
          HGVSc
          <span ng-if="$ctrl.orderBy.unclassified.key === 'hgvsc'">
            <span ng-if="$ctrl.orderBy.unclassified.reverse">&#8593;</span>
            <span ng-if="!$ctrl.orderBy.unclassified.reverse">&#8595;</span>
          </span>
        </div>
        <div class="cell" title="Consequence" ng-click="$ctrl.orderByChanged({section: 'unclassified', key: 'consequence'})">
          CSQ
          <span ng-if="$ctrl.orderBy.unclassified.key === 'consequence'">
            <span ng-if="$ctrl.orderBy.unclassified.reverse">&#8593;</span>
            <span ng-if="!$ctrl.orderBy.unclassified.reverse">&#8595;</span>
          </span>
        </div>
        <div class="cell indicators">
        <div title="Family filter" class="top">
            <div class="hit" ng-click="$ctrl.orderByChanged({section: 'unclassified', key: 'family'})">
              <span>F</span>
              <span ng-if="$ctrl.orderBy.unclassified.key === 'family'">
                <span ng-if="$ctrl.orderBy.unclassified.reverse">&#8593;</span>
                <span ng-if="!$ctrl.orderBy.unclassified.reverse">&#8595;</span>
              </span>
            </div>
          </div>
          <div title="Homozygous" class="top">
            <div class="hit" ng-click="$ctrl.orderByChanged({section: 'unclassified', key: 'homozygous'})">
              <span>O</span>
              <span ng-if="$ctrl.orderBy.unclassified.key === 'homozygous'">
                <span ng-if="$ctrl.orderBy.unclassified.reverse">&#8593;</span>
                <span ng-if="!$ctrl.orderBy.unclassified.reverse">&#8595;</span>
              </span>
            </div>
          </div>
          <div title="Quality issues" class="top">
            <div class="hit" ng-click="$ctrl.orderByChanged({section: 'unclassified', key: 'quality'})">
              <span>Q</span>
              <div ng-if="$ctrl.orderBy.unclassified.key === 'quality'">
                <span ng-if="$ctrl.orderBy.unclassified.reverse">&#8593;</span>
                <span ng-if="!$ctrl.orderBy.unclassified.reverse">&#8595;</span>
              </div>
            </div>
          </div>
          <div title="Reference(s) available" class="top">
            <div class="hit" ng-click="$ctrl.orderByChanged({section: 'unclassified', key: 'references'})">
              <span>R</span>
              <div ng-if="$ctrl.orderBy.unclassified.key === 'references'">
                <span ng-if="$ctrl.orderBy.unclassified.reverse">&#8593;</span>
                <span ng-if="!$ctrl.orderBy.unclassified.reverse">&#8595;</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="nav-row spacer"></div>
      <div class="nav-row allele" ng-repeat="allele in $ctrl.unclassified track by allele.id" title="Allele ID {{ allele.id }}"
            ng-class="{'active': $ctrl.selectedAllele.id == allele.id || vm.isToggled(allele_obj), 'toggled': vm.isToggled(allele_obj), 'togglable': vm.isTogglable(allele_obj), 'multiple': $ctrl.isMultipleInGene[allele.id], 'technical': $ctrl.isTechnical(allele.id)}"
            ng-click="$ctrl.rowClicked(allele.id, 'unclassified')">
        <div title="{{$ctrl.getSampleTypesFull(allele)}}" class="cell sample-type id-sample-type">
            {{$ctrl.getSampleType(allele)}}
        </div>
        <div title="Inheritance" class="cell inheritance id-inheritance">
            {{allele.formatted.inheritance}}
        </div>
        <div class="cell gene id-gene">
            {{allele.annotation.filtered[0].symbol}}
        </div>
        <div class="cell hgvsc id-hgvsc">
            {{allele.annotation.filtered[0].HGVSc_short || allele.formatted.hgvsg}}
        </div>
        <div class="cell consequence id-consequence" ng-class="{'hit': $ctrl.isNonsense[allele.id] && !$ctrl.isTechnical(allele.id)}">
            {{$ctrl.consequence[allele.id]}}
        </div>
        <div class="cell indicators id-indicators">
            <div title="{{$ctrl.getFamilyLabel(allele)}}" class="family">
              <div class="hit" ng-if="$ctrl.getFamilyTag(allele)">
                  <span>{{$ctrl.getFamilyTag(allele)}}</span>
              </div>
            </div>
            <div title="Homozygous" class="hom">
              <div class="hit" ng-if="$ctrl.isHomozygous(allele)">
                  <span>O</span>
              </div>
            </div>
            <div title="{{$ctrl.getQualityTextPopover(allele.id)}}" ng-class="$ctrl.getQualityClass(allele.id)">
              <div class="hit" ng-if="$ctrl.hasQualityInformation(allele)">
                <span>{{$ctrl.getQualityTag(allele)}}</span>
              </div>
            </div>
            <div class="important-source">
              <div title="Reference(s) available"  class="hit" ng-if="$ctrl.hasReferences(allele)">
                  <span>R</span>
              </div>
            </div>
        </div>
        <div class="cell tab"></div>
    </div>
  </section>



  <h4 class="section-title">Classified variants</h4>

  <section class="id-classified enabled">
    <div class="nav-table">
      <div class="nav-row top" ng-if="$ctrl.classified.length">
        <div class="cell" title="Sample type" ng-click="$ctrl.orderByChanged({section: 'classified', key: 'type'})">
          T
          <span ng-if="$ctrl.orderBy.classified.key === 'type'">
            <span ng-if="$ctrl.orderBy.classified.reverse">&#8593;</span>
            <span ng-if="!$ctrl.orderBy.classified.reverse">&#8595;</span>
          </span>
        </div>
        <div class="cell" title="Inheritance" ng-click="$ctrl.orderByChanged({section: 'classified', key: 'inheritance'})">
          INH
          <span ng-if="$ctrl.orderBy.classified.key === 'inheritance'">
            <span ng-if="$ctrl.orderBy.classified.reverse">&#8593;</span>
            <span ng-if="!$ctrl.orderBy.classified.reverse">&#8595;</span>
          </span>
        </div>
        <div class="cell" title="Gene" ng-click="$ctrl.orderByChanged({section: 'classified', key: 'gene'})">
          GENE
          <span ng-if="$ctrl.orderBy.classified.key === 'gene'">
            <span ng-if="$ctrl.orderBy.classified.reverse">&#8593;</span>
            <span ng-if="!$ctrl.orderBy.classified.reverse">&#8595;</span>
          </span>
        </div>
        <div class="cell" title="HGVSc" ng-click="$ctrl.orderByChanged({section: 'classified', key: 'hgvsc'})">
          HGVSc
          <span ng-if="$ctrl.orderBy.classified.key === 'hgvsc'">
            <span ng-if="$ctrl.orderBy.classified.reverse">&#8593;</span>
            <span ng-if="!$ctrl.orderBy.classified.reverse">&#8595;</span>
          </span>
        </div>
        <div class="cell" title="Consequence" ng-click="$ctrl.orderByChanged({section: 'classified', key: 'consequence'})">
          CSQ
          <span ng-if="$ctrl.orderBy.classified.key === 'consequence'">
            <span ng-if="$ctrl.orderBy.classified.reverse">&#8593;</span>
            <span ng-if="!$ctrl.orderBy.classified.reverse">&#8595;</span>
          </span>
        </div>
        <div class="cell indicators">
          <div title="Homozygous" class="top">
            <div class="hit" ng-click="$ctrl.orderByChanged({section: 'classified', key: 'homozygous'})">
              <span>O</span>
              <span ng-if="$ctrl.orderBy.classified.key === 'homozygous'">
                <span ng-if="$ctrl.orderBy.classified.reverse">&#8593;</span>
                <span ng-if="!$ctrl.orderBy.classified.reverse">&#8595;</span>
              </span>
            </div>
          </div>
          <div title="Quality issues" class="top">
            <div class="hit" ng-click="$ctrl.orderByChanged({section: 'classified', key: 'quality'})">
              <span>Q</span>
              <div ng-if="$ctrl.orderBy.classified.key === 'quality'">
                <span ng-if="$ctrl.orderBy.classified.reverse">&#8593;</span>
                <span ng-if="!$ctrl.orderBy.classified.reverse">&#8595;</span>
              </div>
            </div>
          </div>
          <div title="Reference(s) available" class="top">
            <div class="hit" ng-click="$ctrl.orderByChanged({section: 'classified', key: 'references'})">
              <span>R</span>
              <div ng-if="$ctrl.orderBy.classified.key === 'references'">
                <span ng-if="$ctrl.orderBy.classified.reverse">&#8593;</span>
                <span ng-if="!$ctrl.orderBy.classified.reverse">&#8595;</span>
              </div>
            </div>
          </div>
          <!-- <div title="3hetAR" class="top">
            <div class="hit" ng-click="$ctrl.orderByChanged({section: 'classified', key: '3hetAR'})">
              <span>3</span>
              <div ng-if="$ctrl.orderBy.classified.key === '3hetAR'">
                <span ng-if="$ctrl.orderBy.classified.reverse">&#8593;</span>
                <span ng-if="!$ctrl.orderBy.classified.reverse">&#8595;</span>
              </div>
            </div>
          </div> -->
        </div>
      </div>
      <div class="nav-row spacer"></div>
      <div class="nav-row allele" ng-repeat="allele in $ctrl.classified track by allele.id" title="Allele ID {{ allele.id }}"
            ng-class="{'active': $ctrl.selectedAllele.id == allele.id || $ctrl.isToggled[allele.id], 'toggled': $ctrl.isToggled[allele.id], 'togglable': $ctrl.isTogglable[allele.id], 'multiple': $ctrl.isMultipleInGene[allele.id], 'technical': $ctrl.isTechnical(allele.id)}"
            ng-click="$ctrl.rowClicked(allele.id, 'classified')">
        <div title="{{$ctrl.getSampleTypesFull(allele)}}" class="cell sample-type id-sample-type">
            {{$ctrl.getSampleType(allele)}}
        </div>
        <div title="Inheritance" class="cell inheritance id-inheritance">
            {{allele.formatted.inheritance}}
        </div>
        <div class="cell gene id-gene">
            {{allele.annotation.filtered[0].symbol}}
        </div>
        <div class="cell hgvsc id-hgvsc">
            {{allele.annotation.filtered[0].HGVSc_short || allele.formatted.hgvsg}}
        </div>
        <div class="cell consequence id-consequence" ng-class="{'hit': $ctrl.isNonsense[allele.id] && !$ctrl.isTechnical(allele.id)}">
            {{$ctrl.consequence[allele.id]}}
        </div>
        <div class="cell indicators id-indicators">
            <div title="Homozygous" class="hom">
            <div class="hit" ng-if="$ctrl.isHomozygous[allele.id]">
                <span>O</span>
            </div>
            </div>
            <div title="{{$ctrl.getQualityTextPopover(allele.id)}}" ng-class="$ctrl.getQualityClass(allele.id)">
              <div class="hit" ng-if="$ctrl.hasQualityInformation(allele.id)">
                <span>{{$ctrl.getQualityTag(allele.id)}}</span>
              </div>
            </div>
            <div class="important-source">
            <div title="Reference(s) available"  class="hit" ng-if="$ctrl.isImportantSource[allele.id]">
                <span>R</span>
            </div>
            </div>
            <!-- <div class="three-het-ar">
            <div title="3hetAR"  class="hit" ng-if="$ctrl.is3hetAR">
                <span>3</span>
            </div>
            </div> -->
        </div>
        <div class="cell classification id-classification">
          {{$ctrl.getClassificationText(allele.id)}}
        </div>
        <div class="cell tab"
             title="{{$ctrl.isTogglable[allele.id] && $ctrl.readOnly ? 'Not allowed (read-only)' : ''}}">
          <div ng-if="$ctrl.isTogglable[allele.id]" class="added">
            <h5 ng-if="$ctrl.isToggled[allele.id]">-</h5>
            <h5 ng-if="!$ctrl.isToggled[allele.id]">+</h5>
          </div>
        </div>
    </div>
  </section>
</div>
